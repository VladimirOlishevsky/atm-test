(this["webpackJsonpatm-test"]=this["webpackJsonpatm-test"]||[]).push([[0],{64:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(9),o=n.n(i),c=n(28),l=n(99),s=n(98),u=n(93),f=Object(u.a)((function(){return{app:{color:"rgba(245,245,220,0.7)",padding:"100px 0px 100px",textAlign:"center",backgroundColor:"#282c34",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",fontSize:"calc(10px + 2vmin)",gap:50},input:{width:250,"& .MuiInputLabel-root":{color:"beige"},"& .MuiInputBase-input":{color:"beige"},"& .MuiInput-underline:before":{borderBottomColor:"#fff8"},"& .MuiInput-underline:hover:before":{borderBottomColor:"#fff"},"& .MuiInput-underline:after":{borderBottomColor:"#fff"}},atmService:{display:"flex",flexDirection:"column",gap:40},buttonGroup:{display:"flex",gap:32},container:{width:"50%",paddingBottom:100}}})),m=n(14),d=n(25),p=n(21),b=n(33),j=n(11),h=function(){function t(){var e=this;Object(p.a)(this,t),this.atmInitValue=new Map([[5e3,4],[2e3,6],[1e3,9],[500,8],[200,2],[100,5]]),this.tooltip="",this.setAtmBalance=function(t,n){e.atmInitValue.set(t,(e.atmInitValue.get(t)||0)+n)},this.writeOffAtmBalance=function(t,n){e.atmInitValue.set(t,(e.atmInitValue.get(t)||0)-n)},this.valueFromBalance=function(t){return e.atmInitValue.get(t)},this.setTooltip=function(t){e.tooltip=t},this.resetTooltip=function(){e.tooltip=""},this.checkFunction=function(t,e,n){var r=t;return e.forEach((function(t){var e=n.get(t)||0,a=Math.floor(r/t),i=Math.min(e,a);if(e&&i)return e>=i?r-=i*t:void 0})),r},this.setToAllBalances=function(t,n){var r,a=y().userStore,i=a.setUserBalance,o=a.userBalanceKeys,c=t,l=function(t,n){var r=Math.floor(t/n);if(r)return i(n,r),e.setAtmBalance(n,r),c=t-r*n},s=Object(d.a)(e.atmBalanceKeys);try{for(s.s();!(r=s.n()).done;){var u=r.value;l(c,u)&&l(c,u)}}catch(b){s.e(b)}finally{s.f()}var f,m=Object(d.a)(o);try{for(m.s();!(f=m.n()).done;){var p=f.value;l(c,p)&&l(c,p)}}catch(b){m.e(b)}finally{m.f()}n(""),e.resetTooltip()},this.writeOffFromAllBalances=function(t,n){var r=y().userStore,a=r.userBalance,i=r.userInitValue,o=r.writeOffUserBalance,c=r.userBalanceKeys;if(t>a)e.setTooltip("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430. \u041d\u0430 \u0432\u0430\u0448\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432");else if(t>e.atmBalance)e.setTooltip("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430. \u0412 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u044b");else{var l,s=t,u=t,f=function(t,n,r,a){var i=t.get(r)||0,c=Math.floor(n/r),l=Math.min(i,c);if(i&&l){if(!(i>=l))return;"atm"===a&&e.writeOffAtmBalance(r,l),"user"===a&&o(r,l)}return"atm"===a?s=n-l*r:"user"===a?u=n-l*r:void 0},m=e.checkFunction(t,e.atmBalanceKeys,e.atmInitValue),p=e.checkFunction(t,c,i),b=Object(d.a)(e.atmBalanceKeys);try{for(b.s();!(l=b.n()).done;){var j=l.value;if(m||p){if(m)return void e.setTooltip("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430. \u0412 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435 \u043d\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043a\u0443\u043f\u044e\u0440");if(p)return void e.setTooltip("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430. \u0423 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043a\u0443\u043f\u044e\u0440")}else{f(e.atmInitValue,s,j,"atm")&&f(e.atmInitValue,s,j,"atm")}}}catch(x){b.e(x)}finally{b.f()}var h,O=Object(d.a)(c);try{for(O.s();!(h=O.n()).done;){var v=h.value;f(i,u,v,"user")&&f(i,u,v,"user")}}catch(x){O.e(x)}finally{O.f()}n(""),e.resetTooltip()}},this.atmUserOperations=function(t,n,r){var a=y().userStore,i=a.userBalance,o=a.userInitValue,c=a.setUserBalance,l=a.writeOffUserBalance,s=a.userBalanceKeys;if(n>i)e.setTooltip("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430. \u041d\u0430 \u0432\u0430\u0448\u0435\u043c \u0431\u0430\u043b\u0430\u043d\u0441\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0443\u043c\u043c\u0443 \u0438\u043b\u0438 \u0432\u0435\u0440\u043d\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0443");else if(n>e.atmBalance&&"getFromAtm"===t)e.setTooltip("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430. \u0412 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u044b. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0443\u043c\u043c\u0443 \u0438\u043b\u0438 \u0432\u0435\u0440\u043d\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0443");else{var u,f="getFromAtm"===t?e.atmInitValue:o,m="getFromAtm"===t?e.atmBalanceKeys:s,p=n,b=function(n,r){var a=f.get(r)||0,i=Math.floor(n/r),o=Math.min(a,i);if(a&&o){if(!(a>=o))return;"getFromAtm"===t&&(e.writeOffAtmBalance(r,o),c(r,o)),"setToAtm"===t&&(e.setAtmBalance(r,o),l(r,o))}return p=n-o*r},j=e.checkFunction(n,m,f),h=Object(d.a)(m);try{for(h.s();!(u=h.n()).done;){var O=u.value;if(j)return"setToAtm"===t&&e.setTooltip("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430. \u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043a\u0443\u043f\u044e\u0440. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0443\u043c\u043c\u0443 \u0438\u043b\u0438 \u0432\u0435\u0440\u043d\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0443"),void("getFromAtm"===t&&e.setTooltip("\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430. \u0412 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442\u0435 \u043d\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043a\u0443\u043f\u044e\u0440. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0443\u043c\u043c\u0443 \u0438\u043b\u0438 \u0432\u0435\u0440\u043d\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0443"));if(!b(p,O))return r(""),void e.resetTooltip();b(p,O)}}catch(v){h.e(v)}finally{h.f()}}},Object(j.d)(this)}return Object(b.a)(t,[{key:"atmBalance",get:function(){var t=0;return this.atmInitValue.forEach((function(e,n){return t+=e*n})),t}},{key:"atmBalanceKeys",get:function(){return Array.from(this.atmInitValue.keys())}},{key:"arrayFromAtmBalance",get:function(){var t=this;return this.atmBalanceKeys.map((function(e){return{type:e,value:t.atmInitValue.get(e)}}))}}]),t}(),O=function(){function t(){var e=this;Object(p.a)(this,t),this.userInitValue=new Map([[5e3,0],[2e3,1],[1e3,4],[500,0],[200,0],[100,2]]),this.setUserBalance=function(t,n){e.userInitValue.set(t,(e.userInitValue.get(t)||0)+n)},this.writeOffUserBalance=function(t,n){e.userInitValue.set(t,(e.userInitValue.get(t)||0)-n)},Object(j.d)(this)}return Object(b.a)(t,[{key:"userBalance",get:function(){var t=0;return this.userInitValue.forEach((function(e,n){return t+=e*n})),t}},{key:"userBalanceKeys",get:function(){return Array.from(this.userInitValue.keys()).sort((function(t,e){return e-t}))}},{key:"arrayFromUserBalance",get:function(){var t=this;return this.userBalanceKeys.map((function(e){return{type:e,value:t.userInitValue.get(e)}}))}}]),t}(),v=new function t(){Object(p.a)(this,t),this.atmStore=void 0,this.userStore=void 0,this.atmStore=new h,this.userStore=new O},y=function(){return v},x=Object(u.a)((function(){return{root:{display:"flex",gap:32,alignItems:"center"},button:{padding:"8px 32px"}}})),g=n(4),B=Object(m.a)((function(t){var e=t.enterCard,n=x();return Object(g.jsxs)("div",{className:n.root,children:[Object(g.jsx)("span",{children:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043a\u0430\u0440\u0442\u0443"}),Object(g.jsx)("button",{className:n.button,onClick:function(){return e()},children:"ok"})]})})),I=Object(u.a)((function(){return{root:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"50%"},notes:{display:"flex",flexDirection:"column"},value:{display:"flex",flexDirection:"row"}}})),A=Object(m.a)((function(){var t=y(),e=t.atmStore.arrayFromAtmBalance,n=t.userStore.arrayFromUserBalance,r=I(),a=[{title:"Atm balance",notes:e},{title:"User balance",notes:n}];return Object(g.jsx)("div",{className:r.root,children:a.map((function(t){return Object(g.jsxs)("div",{className:r.notes,children:[Object(g.jsx)("p",{children:t.title}),t.notes.map((function(t){return Object(g.jsxs)("div",{className:r.value,children:[t.type,": ",t.value]},t.type)}))]},t.title)}))})})),k=Object(u.a)((function(){return{buttonGroup:{display:"flex",gap:32}}})),C=Object(m.a)((function(t){var e=t.buttonConfig,n=k();return Object(g.jsx)("div",{className:n.buttonGroup,children:e.map((function(t){return Object(g.jsx)("button",{onClick:t.onClick,children:t.title},t.title)}))})})),w=n(101),F=Object(u.a)((function(){return{card:{display:"flex",borderRadius:32,backgroundColor:"#fff",width:400,height:200,color:"#000",flexDirection:"column",boxSizing:"border-box",gap:16,alignItems:"center",justifyContent:"center",padding:32}}})),T=Object(m.a)((function(t){var e=t.openAtmField,n=t.setOpenAtmField,r=t.setEnteredCard,a=t.pincode,i=t.setPincode,o=t.checkPincode,c=y(),s=c.atmStore,u=s.tooltip,f=s.resetTooltip,m=c.userStore.userBalance,d=F();return Object(g.jsxs)("div",{className:d.card,children:[e?null:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(w.a,{placement:"top",title:u,arrow:!0,open:!!u,children:Object(g.jsx)(l.a,{type:"password",autoFocus:!0,disabled:e,value:a,onChange:function(t){return e=t.currentTarget.value,f(),void i(e);var e}})}),Object(g.jsx)("button",{disabled:e,onClick:function(){return o()},children:"\u0432\u0432\u0435\u0441\u0442\u0438 \u043f\u0438\u043d\u043a\u043e\u0434"})]}),e&&Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[Object(g.jsxs)("span",{children:["\u0412\u0430\u0448 \u0431\u0430\u043b\u0430\u043d\u0441 ".concat(m)," "]}),Object(g.jsx)("button",{onClick:function(){return f(),n(!1),void r(!1)},children:"\u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0441\u0435\u0430\u043d\u0441"})]})]})})),V=Object(m.a)((function(){var t=Object(r.useState)(""),e=Object(c.a)(t,2),n=e[0],a=e[1],i=Object(r.useState)(""),o=Object(c.a)(i,2),u=o[0],m=o[1],d=Object(r.useState)(!1),p=Object(c.a)(d,2),b=p[0],j=p[1],h=Object(r.useState)(!1),O=Object(c.a)(h,2),v=O[0],x=O[1],I=f(),k=y().atmStore,w=k.atmUserOperations,F=k.setToAllBalances,V=k.writeOffFromAllBalances,S=k.tooltip,M=k.setTooltip,N=k.resetTooltip,K=function(t){w(t,Number(n),a)},U=[{type:"personal",title:"\u0412\u044b\u0434\u0430\u0442\u044c",onClick:function(){return K("getFromAtm")}},{type:"personal",title:"\u0412\u043d\u0435\u0441\u0442\u0438",onClick:function(){return K("setToAtm")}},{type:"all",title:"\u0412\u043d\u0435\u0441\u0442\u0438 \u043d\u0430 \u0432\u0441\u0435",onClick:function(){F(Number(n),a)}},{type:"all",title:"\u0421\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e \u0432\u0441\u0435\u0445",onClick:function(){V(Number(n),a)}}];return Object(g.jsxs)("div",{className:I.app,children:[!b&&Object(g.jsx)(B,{enterCard:function(){j(!b)}}),b&&Object(g.jsx)(T,{openAtmField:v,setOpenAtmField:x,setEnteredCard:j,pincode:u,setPincode:m,checkPincode:function(){"0000"===u?(N(),m(""),a(""),x(!0)):M("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0438\u043d\u043a\u043e\u0434. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437")}}),v&&Object(g.jsxs)("div",{className:I.atmService,children:[Object(g.jsx)(l.a,{autoFocus:!0,value:n,className:I.input,onChange:function(t){return a(t.currentTarget.value)}}),S&&Object(g.jsx)("div",{style:{display:"flex",width:250,justifyContent:"center"},children:Object(g.jsx)(s.a,{children:S})}),Object(g.jsx)(C,{buttonConfig:U.filter((function(t){return"personal"===t.type}))}),Object(g.jsx)(C,{buttonConfig:U.filter((function(t){return"all"===t.type}))})]}),v&&Object(g.jsx)(A,{})]})}));n(64);o.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(V,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.07990d2a.chunk.js.map